define(`codeblock',`include(tmp/$1.html)dnl')
changequote(<{!,!}>)dnl
<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=1024, user-scalable=no">

<title>Sheaves in Lean - Lean Together 2019</title>

<link rel="stylesheet" media="screen" href="css/reset.css">
<link rel="stylesheet" media="screen" href="css/fira_code.css">
<link rel="stylesheet" media="screen" href="css/pygments.css">
<link rel="stylesheet" media="screen" href="css/generic.css">
<link rel="stylesheet" media="screen" href="css/special.css">

<link rel="stylesheet" media="screen" href="css/stack.v0.css">

<section id="titleslide">
	<h1>Sheaves in Lean</h1>
<footer><span id="wip">[work in progress]</span>
	<span id="author"><em>by</em> &emsp; Johan Commelin</span></footer>
</section>

<section>
<img src="sheaf.jpg" class="slide" id="sheaf-pic" />
<footer><span class="credit smaller">
	(Image source:
	<a href="https://clipground.com/images/barley-clipart-20.jpg">
	https://clipground.com/images/barley-clipart-20.jpg</a>)
</span></footer>
</section>

<section>
<h2>What is a sheaf?</h2>
<p>Canonical example:
If <code>X</code> is a topological space,
then continuous functions
<code class="highlight">
	<span class="n">X</span>
	<span class="bp">→</span>
	<span class="n">ℝ</span>
</code>
form a sheaf.

<p>Crucial property: functions glue uniquely
</section>

<section>
<h2>A first definition</h2>
<p>Let
<code>X</code>
be a topological space.

<p>A <em>presheaf</em> <code>F</code>
is a rule that assigns
<ul>
<li>to every open <code>U ⊆ X</code> a set <code class="highlight"><span class="n">F</span><span class="o">(</span><span class="n">U</span><span class="o">)</span></code></li>
<li>to every inclusion of opens <code>U ⊆ V</code><br/>
	a map
	<code class="highlight">
		<span class="n">r_UV</span> <span class="o">:</span> <span class="n">F</span><span class="o">(</span><span class="n">V</span><span class="o">)</span> <span class="bp">→</span> <span class="n">F</span><span class="o">(</span><span class="n">U</span><span class="o">)</span>
	</code></li>
</ul>
<p>such that
<ul>
<li>for all <code>U</code>, the map <code>r_UU</code> is <code>id</code> on <code class="highlight"><span class="n">F</span><span class="o">(</span><span class="n">U</span><span class="o">)</span></code></li>
<li>if <code>U ⊆ V ⊆ W</code>, then
<code class="highlight"><span class="n">r_UV</span> <span class="err">∘</span> <span class="n">r_VW</span> <span class="bp">=</span> <span class="n">r_UW</span></code>.</li>
</ul>
</section>

<section>
<h2>Say again?</h2>
<p>Note that <code class="highlight"><span class="n">opens</span><span class="o">(</span><span class="n">X</span><span class="o">)</span></code>
is a lattice,<br/>
hence a category.

<p>A presheaf on <code>X</code> is exactly a functor
codeblock(psh_as_func)
</section>

<section id="categories">
		<h2>Categories in Lean</h2>
		<div class="tiny">
		codeblock(category)
		</div>
		<!-- <div class="anim-attribute slide" data-what=".appear" data-attr="color:#f00"></div> -->
		<!-- <div class="slide"></div> -->
		<span class="credit">(by Scott Morrison)</span>
		</section>

		<!-- <script> -->
		<!-- 	$('#categories') -->
		<!-- 	.find('span.n:contains("obviously")') -->
		<!-- 	.each(function(idx, elem) { -->
		<!-- 		$(elem).addClass("appear"); -->
		<!-- 	}); -->
		<!-- </script> -->

<section>
<h2>So, what is a sheaf?</h2>
<p>Let <code>U_i ⊆ X</code> be open sets that cover <code>U ⊆ X</code>.</p>
<p>Consider the following set</p>
<div class="small">
codeblock(sheaf_condition)
</div>
<p>There is a canonical map
<code class="highlight">
	<span class="n"><span class="n">F</span><span class="o">(</span><span class="n">U</span><span class="o">)</span> <span class="bp">→</span> <span class="n">F'</span><span class="o">(</span><span class="n">U</span><span class="o">)</span>
</code>
</p>
<p>A presheaf <code>F</code> is called a <em>sheaf</em>
	if this canonical map is bijective for every <code>U ⊆ X</code>.
</section>

<section>
<h2>Remarks</h2>
<p>Sometimes we want sheaves,<br/>
	but don't have a good topology.</p>

<p>Solution:
	Put topologies on categories.</p>

<p>Famous example: &eacute;tale topology</p>
</section>


<script src="js/d3.v3.min.js"></script>
<script src="js/quack.v1.js"></script>

<script> var myquack = quack(); </script>
