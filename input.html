define(`codeblock',`include(tmp/$1.html)dnl')
changequote(<{!,!}>)dnl
<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=1024, user-scalable=no">

<title>Sheaves in Lean - Lean Together 2019</title>

<link rel="stylesheet" media="screen" href="css/reset.css">
<link rel="stylesheet" media="screen" href="css/fira_code.css">
<link rel="stylesheet" media="screen" href="css/pygments.css">
<link rel="stylesheet" media="screen" href="css/generic.css">
<link rel="stylesheet" media="screen" href="css/special.css">

<link rel="stylesheet" media="screen" href="css/stack.v0.css">

<section id="titleslide">
	<h1>Sheaves in Lean</h1>
<footer><span id="wip">[work in progress]</span>
	<span id="author"><em>by</em> &emsp; Johan Commelin</span></footer>
</section>

<section>
<center>
	<img src="sheaf.jpg" id="sheaf-pic" />
</center>
<footer><span class="credit tiny">
	(Image source:
	<a href="https://clipground.com/images/barley-clipart-20.jpg">
	https://clipground.com/images/barley-clipart-20.jpg</a>)
</span></footer>
</section>

<section>
<center class="huge">
<code class="highlight">
	<span class="n">X</span>
	<span class="bp">→</span>
	<span class="n">ℝ</span>
</code>
</center>
</section>

<section>
<center>
	functions glue uniquely
</center>
</section>

<section>
<div class="vcenter">
<p>A <em>presheaf</em> <code>F</code>
is a rule that assigns
<ul>
<li>to every open <code>U ⊆ X</code><br/>
a set
<code class="highlight"><span class="n">F</span><span class="o">(</span><span class="n">U</span><span class="o">)</span></code>
<code class="tiny marginal highlight"><span class="c">-- functions</span></code>
</li>
<li>to every inclusion of opens <code>U ⊆ V</code><br/>
a map
<code class="highlight">
<span class="n">r_UV</span> <span class="o">:</span>
<span class="n">F</span><span class="o">(</span><span class="n">V</span><span class="o">)</span>
<span class="bp">→</span>
<span class="n">F</span><span class="o">(</span><span class="n">U</span><span class="o">)</span>
</code>
<code class="tiny marginal highlight"><span class="c">-- restriction</span></code>
</li>
</ul>
<p>such that
<ul>
<li>for every open <code>U ⊆ X</code>,<br/>
the map <code>r_UU</code> is <code>id</code> on
<code class="highlight"><span class="n">F</span><span class="o">(</span><span class="n">U</span><span class="o">)</span></code></li>
<li>and if <code>U ⊆ V ⊆ W</code>,<br/>
then
<code class="highlight"><span class="n">r_UV</span> <span class="err">∘</span> <span class="n">r_VW</span>
	<span class="bp">=</span> <span class="n">r_UW</span></code>.</li>
</ul>
</div>
</section>

<section>
<div class="vcenter">
codeblock(psh_as_func)
</div>
</section>

<section id="categories">
<h2>Categories in Lean</h2>
<div class="tiny vcenter">
codeblock(category)
</div>
<footer><span class="credit">(by Scott Morrison)</span></footer>
</section>

<section>
<div class="tiny vcenter">
codeblock(functor)
</div>
<footer><span class="credit">(by Scott Morrison)</span></footer>
</section>

<section>
<div class="tiny vcenter">
codeblock(types_and_yoneda)
</div>
<footer><span class="credit">(by Scott Morrison)</span></footer>
</section>

<section>
<div class="tiny vcenter">
codeblock(yoneda_terse)
</div>
<footer><span class="credit">(by Scott Morrison)</span></footer>
</section>

<section>
<center>
<div class="mermaid">
graph LR
linkStyle default interpolate basis
FU("F(U)")
FU -->|r| FUi("F(U_i)")
FU -->|r| FUj("F(U_j)")
FUi -->|r| FUij("F(U_ij)")
FUj -->|r| FUij;
</div>
</center>
</section>

<section>
<h2>So, what is a sheaf?</h2>
<p>Let <code>U_i ⊆ X</code> be open sets that cover <code>U ⊆ X</code>.</p>
<p>Consider the following set</p>
<div class="small">
codeblock(sheaf_condition)
</div>
<p>There is a canonical map
<code class="highlight">
	<span class="n"><span class="n">F</span><span class="o">(</span><span class="n">U</span><span class="o">)</span> <span class="bp">→</span> <span class="n">F'</span><span class="o">(</span><span class="n">U</span><span class="o">)</span>
</code>
</p>
<p>A presheaf <code>F</code> is called a <em>sheaf</em>
	if this canonical map is bijective for every <code>U ⊆ X</code>
	and every cover of <code>U</code>.
</section>

<section>
<h2>Remarks</h2>
<p>Sometimes we want sheaves,<br/>
	but don't have a good topology.</p>

<p>Solution:
	Put topologies on categories.</p>

<p>Famous example: &eacute;tale topology</p>
</section>


<script src="js/mermaid.min.js"></script>
<script>mermaid.initialize({
	startOnLoad:true
});</script>

<script src="js/d3.v3.min.js"></script>
<script src="js/quack.v1.js"></script>

<script> var myquack = quack(); </script>
